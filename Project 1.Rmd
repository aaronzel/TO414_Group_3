---
title: "Project 1"
author: "Aaron Zelmanov, Muhammad Hafizudeen Mohamad Saman, Nakul Chadha, Kendall Cohen, Michael Geraci, Michael Zhang"
date: "2/12/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Read Data
```{r}
hotel <- read.csv("hotel_bookings.csv")
str(hotel)
head(hotel)
```

## Data Cleaning
```{r}
hotel$hotel <- as.factor(hotel$hotel)
hotel$is_canceled <- as.logical(hotel$is_canceled)
hotel$arrival_date_year <-as.factor(hotel$arrival_date_year)
hotel$arrival_date_month <-as.factor(hotel$arrival_date_month)
hotel$meal <-as.factor(hotel$meal)
hotel$market_segment <-as.factor(hotel$market_segment)
hotel$country <-as.factor(hotel$country)
hotel$distribution_channel <-as.factor(hotel$distribution_channel)
hotel$is_repeated_guest <-as.logical(hotel$is_repeated_guest)
hotel$customer_type <-as.factor(hotel$customer_type ) 
hotel$reservation_status <-as.factor(hotel$reservation_status)
hotel$reserved_room_type <- as.factor(hotel$reserved_room_type)
hotel$assigned_room_type <- as.factor(hotel$assigned_room_type)
hotel$deposit_type <- as.factor(hotel$deposit_type)

str(hotel)
summary(hotel)
```

## Data Exploration

In this section, we will explore the data. First, lets see how much of the people canceled their bookings.

```{r}
# Canceled bookings
plot(as.factor(hotel$is_canceled), xlab= "is_cancelled", ylab = "number of people")
nrow(hotel[hotel$is_canceled == 1,])/nrow(hotel)
```

We can see that more than a third canceled their bookings.

How about the arrival month? Is there any famous months for hotel reservation?
```{r}
plot(hotel$arrival_date_month, las = 2)
table(hotel$arrival_date_month)
```
The most famous moth for hotel arrival date is August. In the trend, we can see that the months with the lowest number of arrival months are months at the end and the beginning of the year, particularly from November-February


Does any of the months has abnormally high rate of cancellation?
```{r}
#rate of cancellation by month
cancellationsbymonth <- tapply(hotel$is_canceled, hotel$arrival_date_month, mean, na.rm = TRUE)
cancellationsbymonth
barplot(sort(cancellationsbymonth), las = 2)
```
Most of the months has about 30-40% rate of cancellation, so wa cannot definitely say for sure that month affect the rate of cancellation.


```{r}

```